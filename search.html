<script>
let allProperties = [];

function loadProperties() {
    allProperties = JSON.parse(localStorage.getItem("properties")) || [];
    displayProperties(allProperties);
}

function displayProperties(properties) {
    let propertyList = document.getElementById("propertyList");

    if (properties.length === 0) {
        propertyList.innerHTML = "<p>No properties found.</p>";
        return;
    }

    propertyList.innerHTML = "";
    properties.forEach((prop) => {
        let card = document.createElement("div");
        card.classList.add("property-card");
        card.innerHTML = `
            <h3>${prop.title}</h3>
            <p>Type: ${prop.type}</p>
            <p>Price: â‚¹${prop.price}</p>
            <p>Location: ${prop.location}</p>
            <p>Area: ${prop.area} sq ft</p>
            <p>Contact: ${prop.ownerName} - ${prop.phone}</p>
        `;
        propertyList.appendChild(card);
    });
}

document.getElementById("searchBtn").addEventListener("click", function(){
    let searchValue = document.getElementById("searchInput").value.toLowerCase();
    let filtered = allProperties.filter(prop =>
        prop.location.toLowerCase().includes(searchValue) ||
        prop.title.toLowerCase().includes(searchValue) ||
        prop.type.toLowerCase().includes(searchValue)
    );
    displayProperties(filtered);
});

// Load properties on page load
loadProperties();
</script>
